<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> Toetsvragen lijst </title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/toetsvragen.css') }}">
</head>
<body>
    <ul class="ul">
      <li>
          <button style= "border: none; cursor: pointer; scale:95%; background:none;">
              <img src="static/assets/logo/testcorrect-logo.svg" alt="Link to test-correct homepage" style= "border: none; cursor: pointer; scale:95%; background:none; align-items: center;"  >
                <a href=""></a>
          </button>
      </li>
      <li style="padding:10px"><a href="??">Oplossingen</a></li>
      <li style="padding:10px"><a href="https://www.test-correct.nl/toetsplatform">Platform</a></li>
      <li style="padding:10px"><a href="https://www.test-correct.nl/pakketten">Aanbod</a></li>
      <li style="padding:10px"><a href="https://www.test-correct.nl/support">Over ons</a></li>
      <li style="padding:10px"><a href="https://www.test-correct.nl/overons">Support</a></li>
      <li
        style="color: #041F74; font-family:nunito, regular, serif; font-size:18px;padding:50px">
        <img src="static/assets/icons/telefoon_icoon.png" alt="Telefoonnummer" style="width:19PX; height:17px;text-align: center;">
        010 7171 171
      </li>
      <li style="padding:25px"><button class="second-button" style="font-family:Nunito extrabold,sans-serif; font-size: 17px;">Login</button>
      </li>
      <li style="padding:0"><button class="button" style="font-family:Nunito extrabold,sans-serif; font-size: 17px;">Boek online demo</button>
      </li>
    </ul>

    <a href="{{ url_for('toetsvragen') }}" class="button" style="text-align: right;">Vragen</a>
    <a href="{{ url_for('inlog') }}" class="button" style="text-align: right;">AI Prompts</a>
    <a href="{{ url_for('inlog') }}" class="button" style="text-align: right;">Redacteuren</a>

    <h2 style="font-family:Nunito extrabold,sans-serif; color:#041F74;"> Toetsvragen lijst </h2>

    <form action="{{ url_for('toetsvragen') }}" methode="GET">
        <div style="margin-bottom:10px;">
            <label for="search">Zoekwoord:</label>
            <input type="text" id="search" name="search" value="{{ request.args.get('search','') }}" placeholder="Zoek vraag...">
        </div>

        <div style="margin-bottom:10px">
            <label for="vak">Filter per vak:</label>
            <select id="vak" name="vak">
                <option value="">Alle vakken</option>
                {% for v in unieke_vakken %}
                <option value="{{ v }}" {% if v == request.args.get(vak) %}selected{% endif %}>{{ v }}</option>
                {% endfor %}
            </select>
        </div>

        <div style="margin-bottom: 10px;">
            <label for="taxonomie">Toon vragen met taxonomie:</label>
            <input type="checkbox" id="taxonomie" name="taxonomie" value="1" {% if request.args.get(taxonomie) %}checked{% endif %}>
        </div>


        <div>
            <button type="submit" class="button">Zoek</button>
            <a href="{{ url_for('toetsvragen') }}" class="button">Ververs</a>
        </div>
    </form>

    <table>
      <thead>
        <tr style="font-family:Nunito extrabold,sans-serif; color:#041F74; font-size: 21px;">
          <td style="padding: 5px;" >Vraag</td>
          <td style="padding: 5px;" >vak</td>
          <td style="padding: 5px;" >Invoer datum</td>
          <td style="padding: 5px;" >Taxonomie</td>
        </tr>
      </thead>
      <tbody>
      {% for vraag in vragen %}
      <tr style="font-family: nunito, serif; color:#041F74; font-size: 15px; margin: 10px;">
         <td style="padding:5px">{{ vraag[1] }}</td>
         <td style="padding:5px">{{ vraag[2] }}</td>
         <td style="padding:5px">{{ vraag[3] if vraag[2] else "N/A"}}</td>
         <td>
            {% if vraag[4] %}
                <a href="{{ url_for('vraag_taxonomie_resultaat', question_id=vraag[0]) }}" class="button" >Wijzigen</a>
            {% else %}
                <a href="{{ url_for('indexeren', question_id=vraag[0]) }}" class="button" >Indexeren</a>
            {% endif %}
         </td>
      </tr>
            {% else %}
      <tr>
            <td colspan="4">Geen vragen beschikbaar.</td>
      </tr>
            {% endfor %}
      </table>

      <p></p>

      <div class="pagination">
        {% if show_first %}
            <a href="{{ url_for('toetsvragen', page=1, search=search, vak=vak, taxonomie=taxonomie) }}">Eerste pagina</a>
        {% endif %}

        {% if prev_page %}
                <a href="{{ url_for('toetsvragen', page=prev_page, search=search, vak=vak, taxonomie=taxonomie) }}">Vorige</a>
        {% endif %}

        {% for link in page_numbers %}
              <a href="{{ link }}" class="{% if loop.index == page %}active{% endif %}">
                {{ loop.index }}
              </a>
        {% endfor %}

        {% if next_page %}
                <a href="{{ url_for('toetsvragen', page=next_page, search=search, vak=vak, taxonomie=taxonomie) }}">Volgende</a>
        {% endif %}

        {% if show_last %}
                <a href="{{ url_for('toetsvragen', page=total_pages, search=search, vak=vak, taxonomie=taxonomie) }}">Laatste pagina</a>
        {% endif %}
      </div>
</body>
</html>